<?php
	$b 		= array(80,130,175,215,265,315,365);
	$b_imp	= array('3 1/8','5 1/8','6 7/8','8&frac12;','10 3/8','12 3/8','14 3/8');
	
	
	$d = array(
			/*80*/
			array(
				114,152,190,228,266,304,342,380,418,456,494,532,570
			),
			/*130*/
			array(
				152,190,228,266,304,342,380,418,456,494,532,570,608,646,684,722,760,798,836,874,912,950
			),
			/*175*/
			array(
				190,228,266,304,342,380,418,456,494,532,570,608,646,684,722,760,798,836,874,912,950,988,1026,1064,1102,1140,1178,1216,1254
			),
			/*215*/
			array(
				266,304,342,380,418,456,494,532,570,608,646,684,722,760,798,836,874,912,950,988,1026,1064,1102,1140,1178,1216,1254,1292,1330,1368,1406,1444,1482,1520,1558,1596
			),
			/*265*/
			array(
				342,380,418,456,494,532,570,608,646,684,722,760,798,836,874,912,950,988,1026,1064,1102,1140,1178,1216,1254,1292,1330,1368,1406,1444,1482,1520,1558,1596,1634,1672,1710,1748,1786,1824,1862,1900,1938,1976
			),
			/*315*/
			array(
				380,418,456,494,532,570,608,646,684,722,760,798,836,874,912,950,988,1026,1064,1102,1140,1178,1216,1254,1292,1330,1368,1406,1444,1482,1520,1558,1596,1634,1672,1710,1748,1786,1824,1862,1900,1938,1976,2014,2052,2090,2128
			),
			/*365*/
			array(
				380,418,456,494,532,570,608,646,684,722,760,798,836,874,912,950,988,1026,1064,1102,1140,1178,1216,1254,1292,1330,1368,1406,1444,1482,1520,1558,1596,1634,1672,1710,1748,1786,1824,1862,1900,1938,1976,2014,2052,2090,2128
			),
	);
	
	$d_imp = array(
			/*80*/
			array(
				'4&frac12;',6,'7&frac12;',9,'10&frac12;',12,'13&frac12;',15,'16&frac12;',18,'19&frac12;',21,'22&frac12;'
			),
			/*130*/
			array(
				6,'7&frac12;',9,'10&frac12;',12,'13&frac12;',15,'16&frac12;',18,'19&frac12;',21,'22&frac12;',24,'25&frac12;',27,'28&frac12;',30,'31&frac12;',33,'34&frac12;',36,'37&frac12;'
			),
			/*175*/
			array(
				'7&frac12;',9,'10&frac12;',12,'13&frac12;',15,'16&frac12;',18,'19&frac12;',21,'22&frac12;',24,'25&frac12;',27,'28&frac12;',30,'31&frac12;',33,'34&frac12;',36,'37&frac12;',39,'40&frac12;',42,'43&frac12;',45,'46&frac12;',48,'49&frac12;'
			),
			/*215*/
			array(
				'10&frac12;',12,'13&frac12;',15,'16&frac12;',18,'19&frac12;',21,'22&frac12;',24,'25&frac12;',27,'28&frac12;',30,'31&frac12;',33,'34&frac12;',36,'37&frac12;',39,'40&frac12;',42,'43&frac12;',45,'46&frac12;',48,'49&frac12;',51,'52&frac12;',54,'55&frac12;',57,'58&frac12;',60,'61&frac12;',63
			),
			/*265*/
			array(
				'13&frac12;',15,'16&frac12;',18,'19&frac12;',21,'22&frac12;',24,'25&frac12;',27,'28&frac12;',30,'31&frac12;',33,'34&frac12;',36,'37&frac12;',39,'40&frac12;',42,'43&frac12;',45,'46&frac12;',48,'49&frac12;',51,'52&frac12;',54,'55&frac12;',57,'58&frac12;',60,'61&frac12;',63,'64&frac12;',66,'67&frac12;',69,'70&frac12;',72,'73&frac12;',75,'76&frac12;',78
			),
			/*315*/
			array(
				15,'16&frac12;',18,'19&frac12;',21,'22&frac12;',24,'25&frac12;',27,'28&frac12;',30,'31&frac12;',33,'34&frac12;',36,'37&frac12;',39,'40&frac12;',42,'43&frac12;',45,'46&frac12;',48,'49&frac12;',51,'52&frac12;',54,'55&frac12;',57,'58&frac12;',60,'61&frac12;',63,'64&frac12;',66,'67&frac12;',69,'70&frac12;',72,'73&frac12;',75,'76&frac12;',78,'79&frac12;',81,'82&frac12;',84
			),
			/*365*/
			array(
				15,'16&frac12;',18,'19&frac12;',21,'22&frac12;',24,'25&frac12;',27,'28&frac12;',30,'31&frac12;',33,'34&frac12;',36,'37&frac12;',39,'40&frac12;',42,'43&frac12;',45,'46&frac12;',48,'49&frac12;',51,'52&frac12;',54,'55&frac12;',57,'58&frac12;',60,'61&frac12;',63,'64&frac12;',66,'67&frac12;',69,'70&frac12;',72,'73&frac12;',75,'76&frac12;',78,'79&frac12;',81,'82&frac12;',84
			),
	);
	
	for($a=0; $a<count($b); $a++){
		
		for($i=0; $i<count($d[$a]); $i++){
			if($post->systeme=="imp"){
				$d_nom[$a][$i]	= $b_imp[$a].'" x '.$d_imp[$a][$i].' "';
			}else{
				$d_nom[$a][$i]	= $b[$a]."x".$d[$a][$i];
			}
		}
		
		$Kzb[$a]	= 1.03 * pow((($b[$a]/1000)*Conversion::ConvertPiedsToMetre($post->portee)),-0.18);
		
		if($Kzb[$a]>1){
			$Kzb[$a]=1;
		}
	}
	
	$max_A = 1;
	$max_Sx= 1;
	$max_EI= 1;
			
	
	$tab_classe_propriete	= array(
			/*"DF-20f-E"=> */array(
				"nom"	=> "DF-20f-E",
				"Fb"	=> 25.6,
				"Fv"	=> 2.0,
				"E"		=> 12400,
				"d"		=> $d,
				"d_nom"	=> $d_nom,
				"Kzb"	=> $Kzb
			),
			/*"DF-24f-E"=> */array(
				"nom"	=> "DF-24f-E",
				"Fb"	=> 30.6,
				"Fv"	=> 2.0,
				"E"		=> 13100,
				"d"		=> $d,
				"d_nom"	=> $d_nom,
				"Kzb"	=> $Kzb
			),
			/*"EP-20f-E"=> */array(
				"nom"	=> "EP-20f-E",
				"Fb"	=> 25.6,
				"Fv"	=> 1.75,
				"E"		=> 10300,
				"d"		=> $d,
				"d_nom"	=> $d_nom,
				"Kzb"	=> $Kzb
			)
	);
	
	for($cpt_classe=0; $cpt_classe<count($tab_classe_propriete); $cpt_classe++){
	
		for($cpt_b=0; $cpt_b<count($d); $cpt_b++){
			
			for($cpt_d=0; $cpt_d<count($tab_classe_propriete[$cpt_classe]['d'][$cpt_b]); $cpt_d++){
				
				$tab_classe_propriete[$cpt_classe]['A'][$cpt_b][$cpt_d]		= $b[$cpt_b] * $d[$cpt_b][$cpt_d];

				$tab_classe_propriete[$cpt_classe]['Sx'][$cpt_b][$cpt_d]	= ($b[$cpt_b] * pow($d[$cpt_b][$cpt_d],2))/6;
				
				$tab_classe_propriete[$cpt_classe]['Ix'][$cpt_b][$cpt_d]	= ($b[$cpt_b] * pow($d[$cpt_b][$cpt_d],3))/12;
				$tab_classe_propriete[$cpt_classe]['EI'][$cpt_b][$cpt_d]	= $tab_classe_propriete[$cpt_classe]['E'] * $tab_classe_propriete[$cpt_classe]['Ix'][$cpt_b][$cpt_d];

			}
		}	
	}
	
	
	
	
?>